---
const title = "Dise침os profesionales para phpBB";
const description =
  "Landing de estilos phpBB desarrollados y mantenidos profesionalmente";

import "../styles/global.css";
import { Octokit } from "@octokit/rest";
import DesignCard from "../components/DesignCard.astro";

const octokit = new Octokit({
  mediaType: {
    previews: ["mercy"]
  }
});

const { data: repos } = await octokit.repos.listForOrg({
  org: "nextgen-solutions-gt",
  per_page: 100
});

const designs = repos.filter(repo =>
  repo.topics?.includes("phpbb-style")
);
---


<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>
    <meta name="description" content={description} />
  </head>

  <body>
    <main>
      <h1>Dise침os profesionales para phpBB</h1>
      <p>
        Colecci칩n de estilos creados para comunidades reales.
      </p>
<section>
  <h2>Dise침os disponibles</h2>

  {designs.map((design) => (
<DesignCard
  name={design.name}
  description={design.description ?? ""}
  repo={design.html_url}
  topics={design.topics
    ? design.topics.filter(t => t !== "phpbb-style")
    : []}
  preview={`https://raw.githubusercontent.com/nextgen-solutions-gt/phpbb-design-previews/main/${design.name}.png`}
/>

  ))}
</section>

	  
    </main>
  </body>
</html>
